
[![Join the chat at https://gitter.im/Lead-Bullets/BSL-Parser](https://badges.gitter.im/Lead-Bullets/BSL-Parser.svg)](https://gitter.im/Lead-Bullets/BSL-Parser?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)

# BSL-Parser

BSL-Parser - это парсер внутреннего языка платформы 1С:Предприятие 8

Данный проект представляет из себя набор внешних обработок для платформы 1С:Предприятие версии 8.3

Структура репозитория:

* /docs - файлы веб-страницы проекта <https://lead-bullets.github.io/BSL-Parser>
* /gui - исходники обработки, предоставляющей пользовательский интерфейс к парсеру
* /img - картинки для документации
* /oscript - скрипты для проверки работы парсера на интерпретаторе [OneScript](https://github.com/EvilBeaver/OneScript)
* /plugins - исходники обработок-плагинов
* /src - исходники обработки парсера
* /prepare.ps1 - скрипт подготовки окружения для использования скриптов сборки/разборки обработок
* /common.ps1 - скрипт с общими алгоритмами
* /build.ps1 - скрипт сборки обработок с помощью конфигуратора в режиме агента
* /explode.ps1 - скрипт разборки обработок с помощью конфигуратора в режиме агента
* /temp.dt - выгрузка пустой базы, которая необходима для работы конфигуратора в режиме агента

# Сборка проекта

Вы можете либо клонировать репозиторий с помощью [git](https://git-scm.com/):
```ps
git clone https://github.com/Lead-Bullets/BSL-Parser
```
либо просто скачать и распаковать zip-архив: https://github.com/Lead-Bullets/BSL-Parser/archive/master.zip

Исходники обработок в данном проекте выгружены стандартными средствами конфигуратора платформы 1С:Предприятие версии 8.3. Для сборки вы можете просто открыть файл `xml` в конфигураторе как есть и пересохранить в формате `epf`

Также можно воспользоваться скриптами на **powershell**, которые находятся в корне. Сначала нужно запустить скрипт `prepare.ps1`, который установит модуль для работы с протоколом SSH (нужен для агента конфигуратора) и развернет пустую базу в папке `/temp`. Если ошибок не возникло, то запуск скрипта больше не потребуется. После этого вы можете запустить скрипт `build.ps1`, который соберет обработки в папке `/build`. Обратную операцию можно выполнить запустив скрипт `explode.ps1`

Скрипты могут иногда не срабатывать, но повторный запуск обычно помогает :)
Пользоваться скриптами нужно **осторожно**, чтобы не потерять свои правки.

![BSL-Parser](img/1SH.png)
